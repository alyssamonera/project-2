<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <% include ../partials/head.ejs %>
  </head>
  <body>
    <header>
      <% include ../partials/header.ejs%>
      <link rel="stylesheet" href="/css/prompts.css">
    </header>

    <main class="prompt-index">

      <% if (error){ %>
        <div class="error-message">
          <p>Hmm, we couldn't find that one.</p>
        </div>
      <% } %>

      <h3>Prompts</h3>

      <% for (let data of allPrompts) { %>
        <blockquote class="blockquote one-prompt">
          <a href="/prompts/<%=data.id%>">
            <p class="mb-0">
            <% if (data.body) {%>
              <% if (data.body.includes(`<img`)) {%>
                <i class="fas fa-images"></i>
              <%} else if (data.body.includes(`<iframe`)) {%>
                <i class="fas fa-video"></i>
              <%}} else {%>
              <i class="fas fa-quote-right"></i>
            <% }%>
            <%= data.title %>
            </p>
          </a>

          <a href="/users/<%= data.author.id%>">
            <p class="blockquote-footer text-muted byline">
              <%= data.author.username %>
            </p></a>

        </blockquote>
      <% }%>
    </main>

    <footer>
      <% include ../partials/footer.ejs %>
    </footer>
  </body>
</html>
